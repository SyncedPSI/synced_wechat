<!--index.wxml-->
<import src="../../lib/wxParse/wxParse.wxml"/>
<import src="../../common/comment.wxml"/>

<view class="article-detail">
  <view class='article-detail__title'>{{article.title}}</view>
  <view class='article-detail__meta'>
    <text>By </text>
    <text class='article-detail__author'>{{article.author.name}}</text>
    <text class="article-detail__publish-date"> | {{article.published_at}}</text>
  </view>
  <view class="article-detail__content">
    <template is="wxParse" data="{{wxParseData:article_content.nodes}}"/>
  </view>

  <view class="like-container" bindtap="likeTap">
    <image src="{{isLike ? '/images/like-active.png' : '/images/like.png' }}"></image>
    <text>2000</text>
  </view>

  <view class="comment-input {{comment_focus ? 'comment-focus' : ''}}">
    <view class="comment-input-body">
      <image src="/images/my.png"></image>
      <textarea bindfocus="inputFocus" value="{{comment_value}}" placeholder="你想说点什么" />
    </view>
    <view class="commment-input-footer" hidden="{{!comment_focus}}">
      <button size="mini" bindtap="inputClose">关闭</button>
      <button size="mini" bindtap="submitComment">提交评论</button>
    </view>
  </view>

  <template is="comment" data="{{...comment}}"/>
</view>
